(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();const u=document,v=u.querySelector(".alert"),f=u.querySelector(".result-of-game"),p=localStorage,L=["Ã¡rbol","piano","noche","pluma","tigre","fluir","vocal","cable","dulce","rueda","lento","nubes","freno","salto","llave"];let m,s,l;function $(){H(),f.classList.remove("visible"),f.innerHTML="",s=u.querySelector("letter"),l=u.querySelector(".line"),s.classList.add("active"),l.classList.add("active-line"),m=b()}function h(){const t=new Date;p.setItem("lastGameDate",t.toISOString())}function T(){const t=new Date().getTime(),n=p.getItem("lastGameDate");if(!n)return!0;const o=new Date(n).getTime(),r=t-o,e=24*60*60*1e3;return r>=e}function y(){const t=u.querySelector(".container"),n=u.importNode(t,!0).innerHTML;return p.setItem("graphic",JSON.stringify(n)),n}function b(){return m=L[Math.floor(Math.random()*L.length)].toUpperCase(),m}function M(t){if(t==="Backspace"){s?(s.classList.remove("active"),s.previousElementSibling&&(s=s.previousElementSibling,s.classList.add("active"),s.innerHTML="")):(s=l.lastElementChild,s.classList.add("active"),s.innerHTML="");return}s&&(s.innerHTML=t.toUpperCase()),q()}function q(){if(s){let t=s.nextElementSibling;t?(s.classList.remove("active"),s=t,s.classList.add("active")):(s.classList.remove("active"),s=null)}}function D(){if(l){let t=!0;if(l.querySelectorAll("letter").forEach(o=>{o.textContent||(t=!1)}),!t)v.classList.add("show"),setTimeout(()=>{v.classList.remove("show")},2e3);else{const o=w();let r=0;if(o.forEach(i=>{i==="green"&&r++}),r===5){setTimeout(()=>{E()},800);return}let e=l.nextElementSibling;e?(l.classList.remove("active-line"),l=e,l.classList.add("active-line"),s=l.querySelector("letter")):setTimeout(()=>{C()},800)}}}function w(){const t=l.querySelectorAll("letter");let n="",o=m.split(""),r,e,i={},c=Array(5).fill("gray");for(t.forEach(a=>{a.textContent&&(n+=a.textContent)}),n=n.split(""),r=0;r<5;r++){const a=o[r];i[a]||(i[a]=0),i[a]++}for(r=0;r<5;r++){const a=n[r];if(n[r]===o[r]){const d=l.querySelectorAll("letter")[r];d.style.borderColor="green",c[r]="green",i[a]--}}for(e=0;e<5;e++){const a=n[e];if(c[e]!=="green"&&i[a]>0){i[a]--;const d=l.querySelectorAll("letter")[e];d.style.borderColor="orange",c[e]="orange"}}return c}function g(){const t=new Date().getTime(),n=p.getItem("lastGameDate"),o=u.querySelector(".time");if(n){const r=new Date(n).getTime(),e=t-r,i=24*60*60*1e3;if(e>=i)console.log("The required time has passed.");else{const c=i-e,a=Math.floor(c%(24*60*60*1e3)/(60*60*1e3)).toString().padStart(2,"0"),d=Math.floor(c%(60*60*1e3)/(60*1e3)).toString().padStart(2,"0"),S=Math.floor(c%(60*1e3)/1e3).toString().padStart(2,"0");o.innerHTML=`Faltan ${a}:${d}:${S} para volver a jugar.`}}}function E(){f.classList.add("visible"),f.innerHTML=`
        <h4>Ganaste!</h4>
        <p class="time"></p>
        <div class="graphic">${y()}</div>
    `,h(),setInterval(g,1e3)}function C(){f.classList.add("visible"),f.innerHTML=`
        <h4>Perdiste</h4>
        <p>La palabra era: <span>${m}</span></p>
        <p class="time"></p>
        <div class="graphic">${y()}</div>
    `,h(),setInterval(g,1e3)}function H(){const t=u.querySelectorAll(".line"),n=u.querySelectorAll("letter");t.forEach(o=>{o.classList.remove("active-line")}),n.forEach(o=>{const r=o;r.classList.remove("active"),r.innerHTML="",r.style.borderColor="gray"})}u.addEventListener("DOMContentLoaded",()=>{if(T())$();else{f.classList.add("visible"),f.innerHTML=`
            <h4>Aun no puedes volver a jugar!</h4>
            <p class="time"></p>
            <div class="graphic"></div>
        `,g();const t=p.getItem("graphic");if(t){const n=f.querySelector(".graphic");n.innerHTML=JSON.parse(t)}setInterval(g,1e3)}});u.addEventListener("keydown",t=>{if(t.key==="Enter"){D();return}(/^[a-zA-Z]$/.test(t.key)||t.key==="Backspace")&&M(t.key)});
